{% extends "ticket_visualization/base.html" %}
{% load static %}
{% block library %}
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-nightly@5.1.2-dev.20210512/dist/echarts.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script src="{% static 'ticket_visualization/dashboard.js' %}" type="text/javascript"></script>
    <link href="{% static 'ticket_visualization/dashboard.css' %}" rel="stylesheet">
{% endblock %}
{% block title %} dashboard {% endblock %}

{% block content %}
    <table id = "ticket_table">

    </table>

    <div id = "ticket_chart" style="height: 500px">

    </div>
    {% endblock %}

{% block footer %}
     <script>
    // Call getList() as soon as page is finished loading
    window.onload = getTickets;

    //  call getTickets every 5 seconds hereafter to update the table
    window.setInterval(getTickets, 5000);
</script>
{% endblock %}